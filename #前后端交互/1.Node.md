### XMLHttpRequest

- open('get', 'url', sync)，send()
- onreadystatechange，ontimeout
- timeout
- readystate，0，1，2，3
- status，200
- responseText

**post请求**

- setRequestHeader('header', 'value')

- getRequestHeader()

  getAllRequestHeader()

- abort()

### Axios

~~~js
// 基本配置
1.axios.create({baseURL,timeout})

axios.defaults.withCredentials = true;
axios.defaults.headers['Content-Type'] = 'application/x-www-form-urlencoded';
axios.defaults.transformRequest = data => qs.stringify(data);

// 请求拦截器
2.axios.interceptors.request.use(fn)
config => token&&(config.headers.Authorization = token)
error=>Promise.reject(error)

// 响应拦截器
3.axios.interceptors.response.use(fn)
response => return response.data
error => let {response} = error   if(response.status)else{if(!window.navigator.online)}

4. cancelToken: new axios.CancelToken((cancel))
~~~

### HTTP-Header

**Content-Type:**

- text/plain，application/json，application/x-www-form-urlencoded，multipart/form-data

**Autorization:**

- localStorage.getItem("token")

### HTTP-Response

Access-Control-Allow-Origin|headers|methods

### HTTP-配置

**timeout**

**headers['Content-Type']，withCredentials**

**transformRequest：**qs.stringfy(data)

**request拦截器:**req.headers.Autorization = token

**response拦截器:**

- res.data，err, { res }
  - res.status
  - window.navigator.onLine

### Proxy代理服务器

**Cli3：vue.config.js > devServer > proxy**

'/api'

- target: xxxUrl
- pathRewrite: {'^/api': ''}
- changeOrigin: true
- ws: true

**Cli2：config > index.js > proxyTable**

### CORS

**Access-Control-Allow-Origin**

后端开启，返回响应加几个特殊的响应头

### JsonP

借助script标签src属性，在引入外部资源时不受同源策略限制，只能处理get请求

### Cookie

查询：

1. start = cookie.indexOf(name + "=") + name.length + 1
2. end = cookie.indexOf(";", start)
3. unescape(document.cookie.substring(start, end))

增加：

1. setDate(date.getDate() + days)
2. cookie = name + "=" + escape(value) + ((days == null) ? "" : ";expires=" +date.toGMTString())

删除：

1. date.setTime(date.getTime() - 1)
2. cookie = name + "=" + value + ";expires=" + date.toGMTString()

### 加密

- Base64

  - npm install js-base64 -S

  - Base64.btoa|atob

    Base64.encode|decode

- 编码|解码

  - escape|unescape(value)

- AES/DES-加解密

  - cnpm install crypto-js --save

  - CryptoJS.AES.encrypt(message, CryptoJS.enc.Utf8.parse(key),{

    ​	mode: CryptoJS.mode.ECB,

    ​	padding: CrytoJS.pad.Pkcs7

    }).toString()

  - CryptoJS.AES.descrypt(encrypt,

    CryptoJS.enc.Utf8.parse(key),{

    ​	mode: CryptoJS.mode.ECB,

    ​	padding: CrytoJS.pad.Pkcs7

    }).toString(CryptoJS.enc.Utf8)

- MD5（不可选）

  - npm install blueimp-md5 -S

  - hex_md5(value)

    b64_md5(value)

    str_md5(value)

- Sha1（不可选）

  - npm install js-sha1 -S
  - sha1(value)